<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Quaternity: inc/graph.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Quaternity
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bfccd401955b95cf8c75461437045ac0.html">inc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">graph.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file defines the graph type and a creation function header.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;vector&gt;</code><br />
<code>#include &quot;<a class="el" href="settings_8h_source.html">settings.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="state_8h_source.html">state.h</a>&quot;</code><br />
</div>
<p><a href="graph_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:abfa6cd99c250f01dc1230167eb64137b"><td class="memItemLeft" align="right" valign="top">typedef vector&lt; vector&lt; bool &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="graph_8h.html#abfa6cd99c250f01dc1230167eb64137b">Graph</a></td></tr>
<tr class="memdesc:abfa6cd99c250f01dc1230167eb64137b"><td class="mdescLeft">&#160;</td><td class="mdescRight">A bipartite graph where true booleans represent edges between a left node denoted as the row and a right node denoted as the column in the grid.  <a href="graph_8h.html#abfa6cd99c250f01dc1230167eb64137b">More...</a><br /></td></tr>
<tr class="separator:abfa6cd99c250f01dc1230167eb64137b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a031a977a486207345e90b5d72b8b99bf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="graph_8h.html#a031a977a486207345e90b5d72b8b99bf">graph_possible</a> (const <a class="el" href="structState.html">State</a> &amp;state)</td></tr>
<tr class="memdesc:a031a977a486207345e90b5d72b8b99bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if it is possible to create a graph.  <a href="graph_8h.html#a031a977a486207345e90b5d72b8b99bf">More...</a><br /></td></tr>
<tr class="separator:a031a977a486207345e90b5d72b8b99bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af03096c2fe0f390705176a42529c71df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="graph_8h.html#abfa6cd99c250f01dc1230167eb64137b">Graph</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="graph_8h.html#af03096c2fe0f390705176a42529c71df">graph_create</a> (const <a class="el" href="structSettings.html">Settings</a> &amp;settings, const <a class="el" href="structState.html">State</a> &amp;state)</td></tr>
<tr class="memdesc:af03096c2fe0f390705176a42529c71df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a biparite graph which has a matching if the state is valid.  <a href="graph_8h.html#af03096c2fe0f390705176a42529c71df">More...</a><br /></td></tr>
<tr class="separator:af03096c2fe0f390705176a42529c71df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file defines the graph type and a creation function header. </p>

<p class="definition">Definition in file <a class="el" href="graph_8h_source.html">graph.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="abfa6cd99c250f01dc1230167eb64137b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfa6cd99c250f01dc1230167eb64137b">&#9670;&nbsp;</a></span>Graph</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef vector&lt;vector&lt;bool&gt; &gt; <a class="el" href="graph_8h.html#abfa6cd99c250f01dc1230167eb64137b">Graph</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A bipartite graph where true booleans represent edges between a left node denoted as the row and a right node denoted as the column in the grid. </p>

<p class="definition">Definition at line <a class="el" href="graph_8h_source.html#l00019">19</a> of file <a class="el" href="graph_8h_source.html">graph.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af03096c2fe0f390705176a42529c71df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af03096c2fe0f390705176a42529c71df">&#9670;&nbsp;</a></span>graph_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="graph_8h.html#abfa6cd99c250f01dc1230167eb64137b">Graph</a> graph_create </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structSettings.html">Settings</a> &amp;&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structState.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a biparite graph which has a matching if the state is valid. </p>
<p>The graph is represented as a 2d array where every cell is an edge between the left node (row number) and the right node (column number). We go through all the players and add the constraints corresponding to that player's possible hands.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="graph_8cpp.html#a836d71bb2b2c6c30c86d59b7296e154d" title="Add all the edges representing the given player.">graph_player</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="graph_8cpp_source.html#l00088">88</a> of file <a class="el" href="graph_8cpp_source.html">graph.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;{</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    assert(<a class="code" href="graph_8cpp.html#a031a977a486207345e90b5d72b8b99bf">graph_possible</a>(state));  <span class="comment">// make sure we can create a graph</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// create the graph array and initialize all values to false</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> NUM_CARDS = settings.<a class="code" href="structSettings.html#a411c7df35c83865a5273ae9bf2d57790">NUM_SETS</a> * settings.<a class="code" href="structSettings.html#a78cf5ed18d69ce74d769a4a9058154c5">SET_SIZE</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="graph_8h.html#abfa6cd99c250f01dc1230167eb64137b">Graph</a> graph(NUM_CARDS, vector&lt;bool&gt;(NUM_CARDS, <span class="keyword">false</span>));</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">// set the corresponding edges for all players</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordtype">int</span> hand_offset = 0;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> player = 0; player &lt; settings.<a class="code" href="structSettings.html#a86e8b42ad2fcbb6bb68f2b02b932899a">NUM_PLAYERS</a>; player++) {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <a class="code" href="graph_8cpp.html#a836d71bb2b2c6c30c86d59b7296e154d">graph_player</a>(settings, state, graph, player, hand_offset);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        hand_offset += state.<a class="code" href="structState.html#a79523852328cce39d41d480e71a16032">players</a>[player].num_cards;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> graph;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a031a977a486207345e90b5d72b8b99bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a031a977a486207345e90b5d72b8b99bf">&#9670;&nbsp;</a></span>graph_possible()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool graph_possible </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structState.html">State</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if it is possible to create a graph. </p>
<p>More specifically, check that no player's total number of set constraints is bigger than the number of cards that player has.</p>
<dl class="section return"><dt>Returns</dt><dd>true if possible </dd></dl>

<p class="definition">Definition at line <a class="el" href="graph_8cpp_source.html#l00023">23</a> of file <a class="el" href="graph_8cpp_source.html">graph.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="structPlayer.html">Player</a> player: state.<a class="code" href="structState.html#a79523852328cce39d41d480e71a16032">players</a>)</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <span class="keywordflow">if</span> (player.<a class="code" href="structPlayer.html#a83bd29acbedad8704d10a21cc81c195a">num_cards</a> &lt; accumulate(player.<a class="code" href="structPlayer.html#a0906f479e944d6736dbbc0da55dac76a">sets</a>.begin(), player.<a class="code" href="structPlayer.html#a0906f479e944d6736dbbc0da55dac76a">sets</a>.end(), 0))</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<div class="ttc" id="astructSettings_html_a78cf5ed18d69ce74d769a4a9058154c5"><div class="ttname"><a href="structSettings.html#a78cf5ed18d69ce74d769a4a9058154c5">Settings::SET_SIZE</a></div><div class="ttdeci">const int SET_SIZE</div><div class="ttdoc">The size of one set, aka the number of cards in one set.</div><div class="ttdef"><b>Definition:</b> <a href="settings_8h_source.html#l00033">settings.h:33</a></div></div>
<div class="ttc" id="astructState_html_a79523852328cce39d41d480e71a16032"><div class="ttname"><a href="structState.html#a79523852328cce39d41d480e71a16032">State::players</a></div><div class="ttdeci">vector&lt; Player &gt; players</div><div class="ttdoc">The information on all the players.</div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00083">state.h:83</a></div></div>
<div class="ttc" id="astructSettings_html_a86e8b42ad2fcbb6bb68f2b02b932899a"><div class="ttname"><a href="structSettings.html#a86e8b42ad2fcbb6bb68f2b02b932899a">Settings::NUM_PLAYERS</a></div><div class="ttdeci">const int NUM_PLAYERS</div><div class="ttdoc">The number of players playing the game.</div><div class="ttdef"><b>Definition:</b> <a href="settings_8h_source.html#l00043">settings.h:43</a></div></div>
<div class="ttc" id="agraph_8cpp_html_a836d71bb2b2c6c30c86d59b7296e154d"><div class="ttname"><a href="graph_8cpp.html#a836d71bb2b2c6c30c86d59b7296e154d">graph_player</a></div><div class="ttdeci">void graph_player(const Settings &amp;settings, const State &amp;state, Graph &amp;graph, int player, int hand_offset)</div><div class="ttdoc">Add all the edges representing the given player.</div><div class="ttdef"><b>Definition:</b> <a href="graph_8cpp_source.html#l00060">graph.cpp:60</a></div></div>
<div class="ttc" id="agraph_8h_html_abfa6cd99c250f01dc1230167eb64137b"><div class="ttname"><a href="graph_8h.html#abfa6cd99c250f01dc1230167eb64137b">Graph</a></div><div class="ttdeci">vector&lt; vector&lt; bool &gt; &gt; Graph</div><div class="ttdoc">A bipartite graph where true booleans represent edges between a left node denoted as the row and a ri...</div><div class="ttdef"><b>Definition:</b> <a href="graph_8h_source.html#l00019">graph.h:19</a></div></div>
<div class="ttc" id="astructPlayer_html_a0906f479e944d6736dbbc0da55dac76a"><div class="ttname"><a href="structPlayer.html#a0906f479e944d6736dbbc0da55dac76a">Player::sets</a></div><div class="ttdeci">vector&lt; int &gt; sets</div><div class="ttdoc">The number of cards the player at least has from a certain set.</div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00050">state.h:50</a></div></div>
<div class="ttc" id="astructSettings_html_a411c7df35c83865a5273ae9bf2d57790"><div class="ttname"><a href="structSettings.html#a411c7df35c83865a5273ae9bf2d57790">Settings::NUM_SETS</a></div><div class="ttdeci">const int NUM_SETS</div><div class="ttdoc">The number of sets.</div><div class="ttdef"><b>Definition:</b> <a href="settings_8h_source.html#l00038">settings.h:38</a></div></div>
<div class="ttc" id="astructPlayer_html"><div class="ttname"><a href="structPlayer.html">Player</a></div><div class="ttdoc">The information connected to a player.</div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00036">state.h:36</a></div></div>
<div class="ttc" id="agraph_8cpp_html_a031a977a486207345e90b5d72b8b99bf"><div class="ttname"><a href="graph_8cpp.html#a031a977a486207345e90b5d72b8b99bf">graph_possible</a></div><div class="ttdeci">bool graph_possible(const State &amp;state)</div><div class="ttdoc">Check if it is possible to create a graph.</div><div class="ttdef"><b>Definition:</b> <a href="graph_8cpp_source.html#l00023">graph.cpp:23</a></div></div>
<div class="ttc" id="astructPlayer_html_a83bd29acbedad8704d10a21cc81c195a"><div class="ttname"><a href="structPlayer.html#a83bd29acbedad8704d10a21cc81c195a">Player::num_cards</a></div><div class="ttdeci">int num_cards</div><div class="ttdoc">The number of cards this player has.</div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00041">state.h:41</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
